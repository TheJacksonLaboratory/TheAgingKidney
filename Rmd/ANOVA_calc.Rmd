---
title: "Calculating ANOVAs"
author: "Yuka Takemon"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: html_document
---

For each gene that we have both mRNA and protein expression data, we fitted a linear model
$$ y_{i} \sim Age + Sex + Generation $$
We will be using the recorded slope and p-value from each mRNA and protein in the downstream processes.

## Running ANOVA
The following bash script is designed to submit the ANOVA R script to the cluster that utilizes PBS submission. You must submit the .Rdata and name the output file in this order. The .Rdata and Rscirpt can be found <span style="color:red">HERE (insert R script later)</span>

```{bash qsub, eval=FALSE}
qsub -v I="./DO188b_kidney_noprobs.RData ./kidney_anova_slope_output.csv",script=anova_tests_slope_pairs Rsubmit_args.sh
```
This will submit the R script to another script Rsubmit_args.sh, which will run the R script in the R environemnt within the allocated resource. 

```{bash Rsubmit, eval=FALSE}
#!/bin/bash -l
#PBS -l nodes=1:ppn=3,walltime=03:00:00

# Usage:
# qsub -v I=${from list},script=${R script name} Rsubmit_multiple.R

cd /projects/korstanje-lab/ytakemon/JAC_DO_Kidney/Scripts/ANOVA
module load R/3.3.2

# I is the input variable
R --no-save --args ${I} < ${script}.R > ${script}.Rout
```

<span style="color:red">Link to ANOVA histogram page</span>


